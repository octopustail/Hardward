<template>
    <div> 
        <div id="calendar" style="width:1000px;height:250px"></div>
        {{content}}
    </div>
</template>
<script>
    const ERR_OK = 0;

export default {

    data:function(){
        return{

             data :[
["2016-01-04",1], ["2016-06-25",2], ["2016-06-24",1], ["2016-06-22",2], ["2016-01-02",2], ["2016-06-20",1], ["2016-06-28",1], ["2016-03-06",1], ["2016-03-07",1], ["2016-03-05",2], ["2016-03-02",1], ["2016-03-03",1], ["2016-01-19",1], ["2016-09-29",2], ["2016-01-13",1], ["2016-01-17",2], ["2016-12-21",1], ["2016-12-24",1], ["2016-12-28",1], ["2016-02-23",1], ["2016-02-27",2], ["2016-02-26",2], ["2016-02-25",1], ["2016-11-12",2], ["2016-11-13",1], ["2016-11-11",1], ["2016-11-16",1], ["2016-11-14",1], ["2016-11-15",2], ["2016-08-31",1], ["2016-09-30",1], ["2016-12-30",1], ["2016-11-09",1], ["2016-03-23",1], ["2016-03-27",1], ["2016-11-03",1], ["2016-08-21",1], ["2016-08-20",1], ["2016-08-22",1], ["2016-05-21",1], ["2016-09-05",1], ["2016-09-07",1], ["2016-01-01",1], ["2016-12-06",1], ["2016-12-07",1], ["2016-12-02",1], ["2016-03-13",1], ["2016-11-30",1], ["2016-08-10",1], ["2016-08-18",1], ["2016-08-19",2], ["2016-04-29",1], ["2016-04-21",1], ["2016-04-23",2], ["2016-04-25",1], ["2016-04-24",1], ["2016-04-27",1], ["2016-04-26",1], ["2016-05-18",1], ["2016-11-23",2], ["2016-11-22",1], ["2016-11-20",1], ["2016-11-27",1], ["2016-10-13",1], ["2016-07-02",1], ["2016-07-03",1], ["2016-07-06",1], ["2016-05-02",1], ["2016-05-03",1], ["2016-05-06",1], ["2016-05-07",1], ["2016-04-14",2], ["2016-04-16",1], ["2016-04-17",1], ["2016-04-10",2], ["2016-04-11",1], ["2016-04-12",1], ["2016-06-13",2], ["2016-06-11",1], ["2016-10-24",1], ["2016-10-26",2], ["2016-10-28",1], ["2016-05-08",1], ["2016-07-16",1], ["2016-05-17",1], ["2016-05-13",1], ["2016-04-03",1], ["2016-04-02",1], ["2016-04-07",2], ["2016-04-09",2], ["2016-01-23",1], ["2016-01-20",1], ["2016-01-27",2], ["2016-01-24",1], ["2016-01-25",1], ["2016-01-28",1], ["2016-01-29",2], ["2016-01-06",1], ["2016-02-18",1], ["2016-02-19",1], ["2016-10-31",1], ["2016-02-10",1], ["2016-02-14",1], ["2016-08-09",1], ["2016-01-31",1], ["2016-02-04",2], ["2016-02-09",1], ["2016-02-08",1], ["2016-01-18",1], ["2016-02-01",1], ["2016-02-03",2], ["2016-02-02",1], ["2016-06-07",1], ["2016-02-07",2], ["2016-02-06",1],
    ["2017-05-25",1], ["2017-06-08",1], ["2017-06-09",1], ["2017-06-01",1], ["2017-06-03",1], ["2017-02-28",1], ["2017-02-26",2], ["2017-02-27",1], ["2017-02-24",1], ["2017-02-25",1], ["2017-02-22",1], ["2017-02-23",1], ["2017-02-20",3], ["2017-02-21",1], ["2017-06-13",1], ["2017-05-10",1], ["2017-06-10",1], ["2017-05-16",1], ["2017-05-17",1], ["2017-06-15",2], ["2017-07-06",1], ["2017-07-19",1], ["2017-06-14",2], ["2017-03-09",1], ["2017-01-17",1], ["2017-02-14",2], ["2017-01-10",1], ["2017-01-11",1], ["2017-05-18",1], ["2017-01-18",1], ["2017-01-19",1], ["2017-07-24",1], ["2017-07-20",1], ["2017-07-23",1], ["2017-03-21",1], ["2017-03-20",1], ["2017-05-03",1], ["2017-05-02",1], ["2017-05-05",1], ["2017-03-24",1], ["2017-04-01",1], ["2017-03-29",1], ["2017-03-28",1], ["2017-04-08",1], ["2017-01-05",1], ["2017-01-04",1], ["2017-01-06",1], ["2017-01-01",1], ["2017-07-09",1], ["2017-01-03",1], ["2017-02-01",1], ["2017-02-02",1], ["2017-02-03",1], ["2017-02-04",1], ["2017-02-05",2], ["2017-02-06",1], ["2017-07-17",2], ["2017-02-08",1], ["2017-02-09",1], ["2017-03-14",1], ["2017-03-15",1], ["2017-03-17",1], ["2017-03-10",2], ["2017-03-11",1], ["2017-04-13",1], ["2017-04-12",1], ["2017-03-18",1], ["2017-03-19",1], ["2017-07-13",1], ["2017-07-15",1], ["2017-07-16",1], ["2017-02-17",1], ["2017-02-16",1], ["2017-02-15",3], ["2017-05-28",2], ["2017-02-13",1], ["2017-02-12",1], ["2017-02-10",2], ["2017-05-23",1], ["2017-03-02",1], ["2017-03-01",1], ["2017-03-07",1], ["2017-05-26",1], ["2017-02-19",1], ["2017-02-18",1], ["2017-01-22",2], ["2017-01-20",1], ["2017-05-31",1], ["2017-03-12",2], ["2017-03-13",1], ["2017-07-12",1], ["2017-06-28",1], ["2017-06-23",1], ["2017-06-21",1], ["2017-06-24",1], ["2017-04-07",1], ["2017-03-22",1], ["2017-03-25",1], ["2017-05-04",1], ["2017-06-30",1],
],
    content:''

        }

    },

    methods:{
        paintCalendar(){
            var chart = this.$echarts.init(document.getElementById('calendar'));

            var option =   {
    title: {
        top: 5,
        left: 'left',//'center',
        text: '使用情况'

    },
    tooltip: {
        position: 'top'
    },
    visualMap: {
        min: 0,
        max: 20,
        calculable: true,
        orient: 'horizontal',
        left: 'center',
        top: 'top'
    },

    calendar: [
    
    {
        top:100,
        range: '2016',
        cellSize: ['auto', 15],
        left: 70,
        right: 30,
        splitLine:{
            show:false
        },
        dayLabel:{
            show:false
        },
        monthLabel:{
            show:false
        },
        inverse:true
    }],

    series: [{
        type: 'heatmap',
        coordinateSystem: 'calendar',
        calendarIndex: 0,
        data: this.data
    }]

};

            chart.setOption(option);
    }},

    mounted(){

        this.paintCalendar();
            },
    
    created(){
        this.$axios.get('/usage')
        .then((response)=>{
            this.content = response.data;
            console.log(this.content[1].machine_id);
        })
    }
    
}
</script>
    